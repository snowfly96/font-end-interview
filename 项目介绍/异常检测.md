#### 1. 环境配置和相关工具

1. 树莓派安装kali Linux系统
2. kali 1安装create_ap开热点，将其他的树莓派和物联网设备连接到kali 1上面
3. 利用其他kali设备在局域网下对物联网设备进行网络攻击
4. 攻击工具包有hping3、arpspoof、nmap、mirai
   + arpspoof是一种中间人攻击工具，可以欺骗目标主机的ARP表，将其通信流量重定向到攻击者所在的机器上，从而实现窃取数据、篡改信息等恶意行为
5. 采用tcpdump进行数据收集

#### 2. 数据采集

1. 采用tcpdump和wireshark进行数据pcap数据包采集
2. 采用scapy对pcap文件进行解析，提取其中ip、端口、协议、包大小，数量等信息

#### 3. 入侵检测

利用机器学习方法

1. 主动学习：关键性查询策略
2. 增量学习：SOINN，对原始数据进行采样，保持原数据拓扑结构但不影响后续学习结果

#### 可视分析

利用D3和前端的相关的技术设计相关的可视化分析系统



#### 遇到的困难

**实验环境**

1. **搭建环境：**开始搭建环境的时候是在实验室局域网下进行的，发起dos攻击的时候频率太快导致其他人网络没法用；先利用一个树莓派连接实验室网络，然后在该树莓派下那装create_ap，再将其他树莓派和物联网设备连接到该树莓派上，搭建出一个局部局域网环境，在该局部局域网环境下进行各种攻击
2. **mirai攻击编译**
3. **特征提取：**需要对使用tcpdum和wireshark采集的数据pcap包进行数据特征提取，我们采用scapy工具对网络攻击进行特征提取，提取其中ip、端口、协议、包大小，数量等信息；但是对于一些高阶的一些状态转移等特征没法提取；是华为那边提供

**模型**

1. **实时性问题**
2. **模型的大小问题**
3. **增量问题**

**前端**

1. **数据的分页展示：**网络流量数据太多，没法展示

   > 1. 分页进行展示
   > 2. 按需进行加载
   > 3. 每个样本对应的一行数据给定id，每次根据id重新请求数据并进行部分缓存

2. **拓扑结构模型展示：**上千个节点的渲染，速度太慢

   > 1. 对节点进行过滤，只展示可行度低的节点
   > 2. 当鼠标选中某个节点的时候再对其邻居节点进行绘制

3. **对决策树进行indented tree**

   > 工作目录的形式进行展示，点击之后进行展开

   

